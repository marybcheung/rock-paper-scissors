<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>Rock, Paper, Scissors</title>
</head>
<body>
    <script>
        // randomly returns 0, 1, or 2
        function rNG3() {
            return Math.floor(Math.random()*3);
        }

        // randomly returns "Rock", "Paper", or "Scissors"
        function computerPlay() {
            switch (rNG3()) {
                case 0: return "Rock";
                case 1: return "Paper";
                case 2: return "Scissors";
            }
        }

        function capitalize(str) {
            str = str.toLowerCase();
            return str.replace(str.substring(0,1), str.substring(0,1).toUpperCase());
        }

        // returns true if and only if player wins, returns false if player loses or ties
        function isPlayerWin(playerSelection, computerSelection) {
            switch(playerSelection) {
                case "Rock": return computerSelection == "Scissors";
                case "Paper": return computerSelection == "Rock";
                case "Scissors": return computerSelection == "Paper";
            }
        }

        function isTie(playerSelection, computerSelection) {
            return playerSelection == computerSelection;
        }

        function playRound(playerSelection, computerSelection) {
            playerSelection = capitalize(playerSelection);
            if (isPlayerWin(playerSelection, computerSelection)) return "You win! " + playerSelection + " beats " + computerSelection + ".";
            else if (isTie(playerSelection, computerSelection)) return "Tie! " + playerSelection + " ties " + computerSelection + ".";
            return "You lose! " + computerSelection + " beats " + playerSelection + ".";
        }

        function game() {
            let playerSelection;
            for (let i = 0; i < 5; i++) {
                playerSelection = prompt("Round " + (i+1) + ": Please enter 'Rock', 'Paper', or 'Scissors'.");
                if (playerSelection == null || playerSelection.match(/rock|paper|scissors/ig) == null) continue;
                alert(playRound(playerSelection, computerPlay()));
            }
        }

        game();
    </script>
</body>